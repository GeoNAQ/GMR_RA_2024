<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: Arial, sans-serif;
    color: #000000;
  }
  h1 {
    color: #000000;
  }
  p {
    font-size: 18px;
    color: #000000;
  }
</style>
</head>
<body>
<h1>Temps restant aux projets</h1>

<p id="currentDate"></p>
<p id="dateDifference"></p>

<script>
  // Function to calculate the difference in days between two dates
  function dateDifference(startDate, endDate) {
    const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
    const diffInTime = endDate.getTime() - startDate.getTime();
    const diffInDays = Math.round(diffInTime / oneDay);
    return diffInDays;
  }

  // Get the current date
  var currentDate = new Date();

  // Format the current date to display nicely
  var formattedCurrentDate = (currentDate.getMonth() + 1) + '/' + currentDate.getDate() + '/' + currentDate.getFullYear();

  // Display the formatted current date
  document.getElementById('currentDate').textContent = "Date actuelle: " + formattedCurrentDate;

  // Get the selected date from URL parameter
  var urlParams = new URLSearchParams(window.location.search);
  var selectedDateParam = urlParams.get('selectedDate');
  
  // Split the string into day, month, and year components
  var dateComponents = dateString.split('/');

  // Convert the selected date parameter to a Date object
  var selectedDate = new Date(dateComponents[2], dateComponents[1] - 1, dateComponents[0]);

  // Format the selected date to display nicely
  var formattedSelectedDate = (selectedDate.getMonth() + 1) + '/' + selectedDate.getDate() + '/' + selectedDate.getFullYear();

  // Calculate the difference in days
  var differenceInDays = dateDifference(currentDate, selectedDate);

  // Display the difference in days
  document.getElementById('dateDifference').textContent = "Temps restant au projet 9+ (" + formattedSelectedDate + "): " + differenceInDays;
</script>
</body>
</html>